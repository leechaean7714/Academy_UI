<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>checkbox</title>
<style type="text/css">

#colorbox{

width: 320px;
height: 320px;
position: relative;

}

#red, #green ,#blue, #black{

width: 150px;
height: 150px;
border: 1px solid black;
position: absolute;


}

#green{left: 160px;}
#blue{top:160px;}
#black{left: 160px; top: 160px;}


</style>

<script type="text/javascript">


	function selectColor() {
		var chks = document.getElementsByName("chk");//웹페이지에 해당 name이 chk들을 chks에다가 넣음
         //chk의 이름인 노르들을 담아서 노드 리스트를 반환
		for (var i = 0; i < chks.length; i++) {
			
			if (chks[i].checked) {//0번지가 체크되어있는지 확인, 확인된다면 value 가 넘어와서 id 로 넘어감

				document.getElementById(chks[i].value).style.backgroundColor = chks[i].value;

			}else{
				document.getElementById(chks[i].value).style.backgroundColor = "";//????이게 아니라면 기본 상태로 바꿔라
				
			}

		}
	}

	function allCheck(check) {//check 트루아니면 폴스
		
	    var chks = document.getElementsByName("chk");
		
		for(var i =0; i<chks.length;i++){
			chks[i].checked = check;
		  }
	}
	
	
	
	
	function clearColor() {
		
		var colorbox = document.querySelectorAll("#colorBox > div");// 4개의 모든 배경색을 없애버림 allcheck가 false인경우 모든애들이 해제
		for(var i =0;i<colorbox.length;i++){
			colorbox[i].style.backgroundColor="";
		}//
		allCheck(false);//false 는 체크 해제해라
		document.getElementsByName("all")[0].ckecked=false;// 전체선택을 false로 
	}
	
	
	
	</script>

</head>
<body>


		<div id ="colorbox">
			
			<div id="red">RED</div>
			<div id="green">GREEN</div>
			<div id="blue">BLUE</div>
			<div id="black">BLACK</div>
			
		</div>

        <div id="base">
             <form>

					<input type="checkbox" name="all" onclick="allCheck(this.checked);"/>전체선택<br/><!-- //this.checked (<input type="checkbox" name="all" onclick="allCheck(this.checked);"/>) -->
					
					<input type="checkbox" name="chk" value="red"/>RED<br/>    
					<input type="checkbox" name="chk" value="green"/>GREEN<br/>    
					<input type="checkbox" name="chk" value="blue"/>BLUE<br/>  
					<input type="checkbox" name="chk" value="black"/>BLACK<br/>  
					
					<input type="button" value="select" onclick="selectColor();"/>   
					
					<input type="button" value="clear" onclick= "clearColor();"/>                      
			 
			 </form> 
       </div>

</body>
</html>
<!DOCTYPE html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Document</title>

<style type="text/css">
#colorbox {
	width: 320px;
	height: 320px;
	position: relative;
}

#red, #green, #blue, #black {
	width: 150px;
	height: 150px;
	border: 1px solid black;
	position: absolute;
}

#green {
	left: 160px;
}

#blue {
	top: 160px;
}

#black {
	left: 160px;
	top: 160px;
}
</style>
<script type="text/javascript">
	function selectColor() {
		var chks = document.getElementsByName("chk");
		console.log(chks);
		for (var i = 0; i < chks.length; i++) {
			if (chks[i].checked) {
				document.getElementById(chks[i].value).style.backgroundColor = chks[i].value;
			} else {
				document.getElementById(chks[i].value).style.backgroundColor = "";
			}
		}
	}

	function clearColor() {
		var colorbox = document.querySelectorAll("#colorbox > div"); // 자식 선택자
		//console.log(colorbox);
		for (var i = 0; i < colorbox.length; i++) {//박스 지우기
			colorbox[i].style.backgroundColor = "";
		}
		allCheck(false);
		document.getElementsByName("all")[0].checked = false;
	}

	function allCheck(check) { // checked의 상태가 true 또는 false로 표현된다.
		var chks = document.getElementsByName("chk");
		for (var i = 0; i < chks.length; i++) {
			chks[i].checked = check;
		}
	}

	/*
	 function selectAll(){
	 var chks = document.getElementsByName("chk");
	 var all = document.getElementsByName("all");
	 for( var i = 0; i < chks.length; i++){
	 if(all[0].checked){
	 document.getElementById(chks[i].value).style.checked = "checked";
	 } else {
	 document.getElementById(chks[i].value).style.checked = "";
	 }
	 }
	 }
	 */
</script>
</head>
<body>

	<div id="colorbox">
		<div id="red">RED</div>
		<div id="green">GREEN</div>
		<div id="blue">BLUE</div>
		<div id="black">BLACK</div>
	</div>

	<div id="base">
		<form>
			<input type="checkbox" name="all" onclick="allCheck(this.checked);" />전체선택<br />

			<input type="checkbox" name="chk" value="red" />RED<br> <input
				type="checkbox" name="chk" value="green" />GREEN<br> <input
				type="checkbox" name="chk" value="blue" />BLUE<br> <input
				type="checkbox" name="chk" value="black" />BLACK<br> <input
				type="button" value="select" onclick="selectColor();" /> <input
				type="button" value="clear" onclick="clearColor();" />
		</form>
	</div>

</body>
</html>